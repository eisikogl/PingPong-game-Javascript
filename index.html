<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ping Pong Game</title>
<style>
  canvas { 
    display: block; 
    margin: auto; 
    border:1px solid black;
  }
</style>
</head>
<body>
<canvas id="pingpong" width="800" height="400"></canvas>
<script>
// Get a reference to the canvas DOM element
var canvas = document.getElementById('pingpong');
var ctx = canvas.getContext('2d');

// Game constants
var paddleWidth = 10, paddleHeight = 100;
var leftPaddleY = rightPaddleY = (canvas.height - paddleHeight) / 2;
var ballSize = 10;
var ballX = canvas.width / 2, ballY = canvas.height / 2;
var ballSpeedX = 5, ballSpeedY = 3;
var leftPlayerScore = 0, rightPlayerScore = 0;
var upArrowPressed = false, downArrowPressed = false;
var wPressed = false, sPressed = false;

// Draw paddles
function drawPaddles() {
    ctx.fillStyle = 'black';
    ctx.fillRect(0, leftPaddleY, paddleWidth, paddleHeight);
    ctx.fillRect(canvas.width - paddleWidth, rightPaddleY, paddleWidth, paddleHeight);
}

// Draw ball
function drawBall() {
    ctx.fillStyle = 'black';
    ctx.fillRect(ballX - ballSize / 2, ballY - ballSize / 2, ballSize, ballSize);
}

// Move paddles
function movePaddle() {
    if (wPressed && leftPaddleY > 0) {
        leftPaddleY -= 7;
    } else if (sPressed && (leftPaddleY < canvas.height - paddleHeight)) {
        leftPaddleY += 7;
    }
    if (upArrowPressed && rightPaddleY > 0) {
        rightPaddleY -= 7;
    } else if (downArrowPressed && (rightPaddleY < canvas.height - paddleHeight)) {
        rightPaddleY += 7;
    }
}

// Draw net
function drawNet() {
    ctx.beginPath();
    ctx.setLineDash([5]);
    ctx.moveTo(canvas.width / 2, 0);
    ctx.lineTo(canvas.width / 2, canvas.height);
    ctx.strokeStyle = 'grey';
    ctx.stroke();
}

// Move ball
function moveBall() {
    ballX += ballSpeedX;
    ballY += ballSpeedY;
    // Wall collision (top/bottom)
    if (ballY <= 0 || ballY >= canvas.height) {
        ballSpeedY = -ballSpeedY;
    }
    // Paddle collision
    if (ballX <= paddleWidth && ballY > leftPaddleY && ballY < leftPaddleY + paddleHeight) {
        ballSpeedX = -ballSpeedX;
    } else if (ballX >= canvas.width - paddleWidth - ballSize && ballY > rightPaddleY && ballY < rightPaddleY + paddleHeight) {
        ballSpeedX = -ballSpeedX;
    }
    // Scoring
    if (ballX <= 0) {
        rightPlayerScore++;
        resetBall();
    } else if (ballX >= canvas.width) {
        leftPlayerScore++;
        resetBall();
    }
}

// Reset ball to center
function resetBall() {
    ballX = canvas.width / 2;
    ballY = canvas.height / 2;
    ballSpeedX = -ballSpeedX;
    ballSpeedY = 3;
}

// Draw everything
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawNet();
    drawPaddles();
    drawBall();
    // Draw scores
    ctx.fillText("Player 1: " + leftPlayerScore, 100, 100);
    ctx.fillText("Player 2: " + rightPlayerScore, canvas.width - 200, 100);
}

// Game loop
function gameLoop() {
    movePaddle();
    moveBall();
    draw();
    requestAnimationFrame(gameLoop);
}

// Event listeners
window.addEventListener('keydown', function(event) {
    switch(event.key) {
        case 'ArrowUp': 
            upArrowPressed = true;
            break;
        case 'ArrowDown': 
            downArrowPressed = true;
            break;
        case 'w': // 'W' key
            wPressed = true;
            break;
        case 's': // 'S' key
            sPressed = true;
            break;
    }
});

window.addEventListener('keyup', function(event) {
    switch(event.key) {
        case 'ArrowUp': 
            upArrowPressed = false;
            break;
        case 'ArrowDown': 
            downArrowPressed = false;
            break;
        case 'w': // 'W' key
            wPressed = false;
            break;
        case 's': // 'S' key
            sPressed = false;
            break;
    }
});

// Start the game loop
requestAnimationFrame(gameLoop);

</script>
</body>
</html>
